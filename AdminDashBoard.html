<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Hornet Hive Accounting - Add Account</title>
    <link rel="stylesheet" href="main.css" />
    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
</head>

<body>
    <!-- Top Bar -->
    <header class="topbar has-sidebar">
        <div class="user">
            <img src="assets/HHAlogo.jpg" alt="Hornet Hive Logo" class="logo" />
            <span id="loggedUser">Welcome, Admin</span>
        </div>
        <div class="datetime" id="dateTime"></div>
    </header>

    <!-- Main Content -->
    <main class="main">
        <!-- Add Account Form -->
        <form id="addAccountForm" class="card">
            <h3>Add New Account</h3>
            <label>Account Name: <input type="text" name="accountName" required /></label>
            <label>Account Number: <input type="text" name="accountNumber" pattern="^[0-9]+$" required /></label>
            <label>Description: <textarea name="description"></textarea></label>
            <label>
                Normal Side:
                <select name="normalSide">
                    <option value="debit">Debit</option>
                    <option value="credit">Credit</option>
                </select>
            </label>
            <label>Category: <input type="text" name="category" /></label>
            <label>Subcategory: <input type="text" name="subcategory" /></label>
            <label>Initial Balance: <input type="number" step="0.01" name="initialBalance" /></label>
            <label>Debit: <input type="number" step="0.01" name="debit" /></label>
            <label>Credit: <input type="number" step="0.01" name="credit" /></label>
            <label>Balance: <input type="number" step="0.01" name="balance" /></label>
            <label>Date Added: <input type="datetime-local" name="dateAdded" /></label>
            <label>User ID: <input type="text" name="userId" readonly /></label>
            <label>Order: <input type="text" name="order" /></label>
            <label>
                Statement:
                <select name="statement">
                    <option value="IS">Income Statement</option>
                    <option value="BS">Balance Sheet</option>
                    <option value="RE">Retained Earnings</option>
                </select>
            </label>
            <label>Comment: <textarea name="comment"></textarea></label>
            <div class="form-actions">
                <button type="submit" title="Save account to database">Add Account</button>
                <button onclick="window.location.href='users.html'"> Cancel</button>

            </div>
        </form>
    </main>

    <!-- Admin Dashboard Logic -->
    <script src="scripts/adminDashboard.js" type="module"></script>

    <!-- Clock Script -->
    <script>
        document.addEventListener("DOMContentLoaded", () => {
            function updateClock() {
                const now = new Date();
                const options = {
                    weekday: "short", year: "numeric", month: "short", day: "numeric",
                    hour: "2-digit", minute: "2-digit", second: "2-digit"
                };
                document.getElementById("dateTime").textContent = now.toLocaleString(undefined, options);
            }
            updateClock();
            setInterval(updateClock, 1000);
        });
    </script>
</body>
</html>
